This is based on the OpenCV SDK samples.